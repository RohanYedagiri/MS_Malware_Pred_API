{% extends "base.html" %}
{% block content %}

    <div class="showcase container red lighten-3">
        <div class="row">
            <div class="col s12 center-align">
                <h1>Microsoft Malware Detection</h1>
                <h3>
                    Machine Learning App & <a class="pink-text" href="https://github.com/RohanYedagiri/MS_Malware_Pred_API">API</a>
                </h3>
                <a href="{{ url_for('index') }}" class="btn btn-small waves-effect waves-dark">Reset</a>
                <p></p>
            </div>
        </div>
    </div>

    <section class="container">
        <div class="row">
            <div class="col s12 m4 offers">
                <div class="card-panel grey lighten-4 grey-text text-darken-4 z-depth-0">
                    <form method="POST" action="{{ url_for('result') }}">
                        <div>
                            <p>
                                <label>Config ID for Antivirus (3 - 70507)</label>
                                <input type="number" min="3" max="70507" name="AVProductStatesIdentifier">
                            </p>
                        </div>
                        <div class="range-field">
                            <p class="range-field">
                                <label># Antivirus Products Installed</label>
                                <input type="range" min="0" max="7" step="1" value="0" name="AVProductsInstalled">
                            </p>
                        </div>
                        <div class="range-field">
                            <p class="range-field">
                                <label>Country ID (1 - 222)</label>
                                <input type="range" min="1" max="222" step="1" value="1" name="CountryIdentifier">
                            </p>
                        </div>
                        <div>
                            <p>
                                <label>City ID (5 - 167962)</label>
                                <input type="number" min="5" max="167962" name="CityIdentifier">
                            </p>
                        </div>
                        <div>
                            <label>Smartscreen Value in Registry</label>
                            <select name="SmartScreen">
                                <option value="block">block</option>
                                <option value="existsnotset">existsnotset</option>
                                <option value="off">off</option>
                                <option value="on">on</option>
                                <option value="prompt">prompt</option>
                                <option value="warn">warn</option>
                                <option value="requireadmin">requireadmin</option>
                                <option value="other">other</option>
                            </select>
                            <br><br>
                        </div>
                        <div>
                            <p>
                                <label>OEM ID (1 - 345498)</label>
                                <input type="number" min="1" max="345498" name="Census_OEMModelIdentifier">
                            </p>
                        </div>
                        <div>
                            <p>
                                <label>Processor ID (2 - 4479)</label>
                                <input type="number" min="2" max="4479" name="Census_ProcessorModelIdentifier">
                            </p>
                        </div>
                        <div class="range-field">
                            <p class="range-field">
                                <label>Size of System Volume (MB -> scaled)</label>
                                <input type="range" min="-1.1511" max="145.1222" step="0.2" value="0"
                                       name="Census_SystemVolumeTotalCapacity">
                            </p>
                        </div>
                        <div>
                            <label>OS Install Type</label>
                            <select name="Census_OSInstallTypeName">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="Clean">Clean</option>
                                <option value="CleanPCRefresh">CleanPCRefresh</option>
                                <option value="IBSClean">IBSClean</option>
                                <option value="Other">Other</option>
                                <option value="Refresh">Refresh</option>
                                <option value="Reset">Reset</option>
                                <option value="UUPUpgrade">UUPUpgrade</option>
                                <option value="Update">Update</option>
                                <option value="Upgrade">Upgrade</option>
                            </select>
                            <br><br>
                        </div>
                        <div>
                            <p>
                                <label>Firmware ID (3 - 72105)</label>
                                <input type="number" min="3" max="72105" name="Census_FirmwareVersionIdentifier">
                            </p>
                        </div>
                        <div class="range-field">
                            <p class="range-field">
                                <label>AV Defender State 1</label>
                                <input type="range" min="155" max="277" step="2" value="155" name="avsig_ver_1">
                            </p>
                        </div>
                        <div>
                            <p>
                                <label>AV Defender State 2 (0 - 7751)</label>
                                <input type="number" min="0" max="7751" name="avsig_ver_2">
                            </p>
                        </div>
                        <div>
                            <p>
                                <label>OS Version (0 - 41736)</label>
                                <input type="number" min="0" max="41736" name="Census_OS_ver_3">
                            </p>
                        </div>
                        <div>
                            <button class="btn waves-effect waves-light" type="submit" name="action">
                                Submit
                            </button>
                            <button class="btn waves-effect waves-light" type="reset" name="action">
                                Reset
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col s12 m4 offers">
                <div class="card-panel grey lighten-4 grey-text text-darken-4 z-depth-0">
                    <h6>Target Encoded</h6>
                    <hr>
                    AVProductStatesIdentifier: {{ AVProductStatesIdentifier }}<br>
                    AVProductsInstalled: {{ AVProductsInstalled }}<br>
                    Country_ID: {{ CountryIdentifier }}<br>
                    City_ID: {{ CityIdentifier }}<br>
                    SmartScreen: {{ SmartScreen }}<br>
                    OEM_ID: {{ Census_OEMModelIdentifier }}<br>
                    Processor_ID: {{ Census_ProcessorModelIdentifier }}<br>
                    System_Volume: {{ Census_SystemVolumeTotalCapacity }}<br>
                    OS_Install_Type: {{ Census_OSInstallTypeName }}<br>
                    Firmware_ID: {{ Census_FirmwareVersionIdentifier }}<br>
                    Avsig_Ver_1: {{ avsig_ver_1 }}<br>
                    Avsig_Ver_2: {{ avsig_ver_2 }}<br>
                    OS_Ver: {{ Census_OS_ver_3 }}<br>
                </div>
            </div>
            <div class="col s12 m4 offers">
                <div class="card-panel grey lighten-4 grey-text text-darken-4 z-depth-0">
                    <h6>Query Result:</h6>
                    <hr>
                    {{ result1 }}
                </div>
            </div>
        </div>
    </section>



{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
        $(document).ready(function () {
            $('select').formSelect();
        });
    </script>
{% endblock %}